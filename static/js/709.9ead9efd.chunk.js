"use strict";(self.webpackChunktweets_test_task=self.webpackChunktweets_test_task||[]).push([[709],{9709:function(e,s,r){r.r(s),r.d(s,{default:function(){return Z}});var t=r(9439),n=r(2791),a=r(1087),l=r(8600),o=r(5218),i=r(5421),c=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},u="UserCard_userCard__tT-6-",d="UserCard_userName__kJqX5",_="UserCard_avatarThumb__agBFd",f="UserCard_avatar__1Ax7k",g="UserCard_dekorLine__MXhHc",w="UserCard_cardText__Mx7e2",h="UserCard_followBtn__BxdQi",m="UserCard_followingBtn__K4nlu",x=r(184),j=function(e){var s=e.user,r=e.tweets,a=e.followres,l=e.avatar,j=e.following,p=e.id,b=(0,i.kD)(),v=(0,t.Z)(b,2),N=v[0],C=v[1],k=C.isLoading,F=C.isSuccess,B=C.isError,T=function(){var e=!j,s=e?a+=1:a-=1;N({id:p,updatedFollowersAmount:s,followingStatus:e})};return(0,n.useEffect)((function(){F&&!j&&o.Am.success("You are following ".concat(s," now")),F&&j&&o.Am.success("You stoped following ".concat(s)),B&&!j&&o.Am.error("Ooops, something going wrong..."),B&&j&&o.Am.error("Ooops, something going wrong...")}),[F,B]),(0,x.jsxs)("div",{className:u,children:[(0,x.jsx)("p",{className:d,children:s}),(0,x.jsx)("div",{className:_,children:(0,x.jsx)("img",{className:f,src:l,alt:"avatar"})}),(0,x.jsx)("span",{className:g}),(0,x.jsxs)("p",{className:w,children:[c(r)," tweets"]}),(0,x.jsxs)("p",{className:w,children:[c(a)," followers"]}),j?(0,x.jsx)("button",{onClick:T,disabled:k,type:"button",className:m,children:k?(0,x.jsx)(x.Fragment,{children:"Changing status..."}):(0,x.jsx)(x.Fragment,{children:"Following"})}):(0,x.jsx)("button",{onClick:T,disabled:k,className:h,type:"button",children:k?(0,x.jsx)(x.Fragment,{children:"Changing status..."}):(0,x.jsx)(x.Fragment,{children:"Follow"})})]})},p="UsersList_usersList__91BD0",b=function(e){var s=e.users;return(0,x.jsx)("ul",{className:p,children:s&&s.map((function(e){var s=e.user,r=e.tweets,t=e.followres,n=e.avatar,a=e.id,l=e.following;return(0,x.jsx)("li",{children:(0,x.jsx)(j,{user:s,tweets:r,followres:t,avatar:n,id:a,following:l})},a)}))})},v=r(5763),N="ErrorMessage_errorText__HBUoT",C=function(){return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("p",{className:N,children:"Oooops, something going wrong, refresh the page"})})},k="Tweets_btnWraper__pz2fO",F="Tweets_paginationBtn__NOWZi",B="Tweets_currentPage__bdLSB",T="Tweets_tweetsHeader__ZiIYB",U="Tweets_backLink__yzW7-",S="Tweets_select__noGrM",Z=function(){var e=(0,n.useState)(1),s=(0,t.Z)(e,2),r=s[0],o=s[1],c=(0,n.useState)([]),u=(0,t.Z)(c,2),d=u[0],_=u[1],f=(0,n.useState)({label:"Show all",value:"all"}),g=(0,t.Z)(f,2),w=g[0],h=g[1],m=(0,i.zQ)(r),j=m.data,p=m.isFetching,N=m.isError;return(0,n.useEffect)((function(){_(function(e,s){switch(s.value){case"followings":return e.filter((function(e){return e.following}));case"follow":return e.filter((function(e){return!e.following}));default:return e}}(j,w))}),[j,w]),(0,x.jsx)(x.Fragment,{children:N?(0,x.jsx)(C,{}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:T,children:[(0,x.jsx)(l.ZP,{className:S,defaultValue:w,onChange:h,options:[{value:"all",label:"Show all"},{value:"follow",label:"Follow"},{value:"followings",label:"Followings"}]}),(0,x.jsx)(a.rU,{className:U,to:"/",children:"Back to Home"})]}),p&&(0,x.jsx)(v.a,{}),(0,x.jsx)(b,{users:d}),(0,x.jsxs)("div",{className:k,children:[(0,x.jsx)("button",{className:F,type:"button",disabled:1===r,onClick:function(){return o(r-1)},children:"Previous"}),(0,x.jsx)("span",{className:B,children:r}),(0,x.jsx)("button",{className:F,type:"button",disabled:3===r,onClick:function(){return o(r+1)},children:"Next"})]})]})})}}}]);
//# sourceMappingURL=709.9ead9efd.chunk.js.map