{"version":3,"file":"static/js/709.fde432b1.chunk.js","mappings":"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","sources":["helpers/convertNumber.js","webpack://tweets-test-task/./src/components/UserCard/UserCard.module.scss?b287","components/UserCard/UserCard.jsx","webpack://tweets-test-task/./src/components/UsersList/UsersList.module.scss?2298","components/UsersList/UsersList.jsx","webpack://tweets-test-task/./src/components/ErrorMessage/ErrorMessage.module.scss?a3ad","components/ErrorMessage/ErrorMessage.jsx","webpack://tweets-test-task/./src/pages/Tweets.module.scss?b9d5","pages/Tweets.js","helpers/getFilteredUsers.js"],"sourcesContent":["export const convertNumber = number =>\n  number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n","// extracted by mini-css-extract-plugin\nexport default {\"UserCard\":\"UserCard_UserCard__D8++g\",\"UserName\":\"UserCard_UserName__sE2sk\",\"AvatarThumb\":\"UserCard_AvatarThumb__pKnrd\",\"Avatar\":\"UserCard_Avatar__Gc9Nd\",\"DekorLine\":\"UserCard_DekorLine__4mChq\",\"CardText\":\"UserCard_CardText__riTWv\",\"FollowBtn\":\"UserCard_FollowBtn__WBeN5\",\"FollowingBtn\":\"UserCard_FollowingBtn__uMzFK\"};","import { useEffect } from 'react';\nimport { toast } from 'react-hot-toast';\nimport { useUpdateUserMutation } from 'redux/usersAPI';\nimport { convertNumber } from 'helpers/convertNumber';\n\nimport css from './UserCard.module.scss';\n\nexport const UserCard = ({\n  user,\n  tweets,\n  followres,\n  avatar,\n  following,\n  id,\n}) => {\n  const [updateUser, { isLoading, isSuccess, isError }] =\n    useUpdateUserMutation();\n\n  const changeFollowingStatus = () => {\n    const followingStatus = !following;\n    const updatedFollowersAmount = followingStatus\n      ? (followres += 1)\n      : (followres -= 1);\n\n    updateUser({\n      id,\n      updatedFollowersAmount,\n      followingStatus,\n    });\n  };\n\n  useEffect(() => {\n    isSuccess && !following && toast.success(`You are following ${user} now`);\n    isSuccess && following && toast.success(`You stoped following ${user}`);\n    isError && !following && toast.error(`Ooops, something going wrong...`);\n    isError && following && toast.error(`Ooops, something going wrong...`);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isSuccess, isError]);\n\n  return (\n    <div className={css.UserCard}>\n      <p className={css.UserName}>{user}</p>\n      <div className={css.AvatarThumb}>\n        <img className={css.Avatar} src={avatar} alt=\"avatar\" />\n      </div>\n      <span className={css.DekorLine}></span>\n      <p className={css.CardText}>{convertNumber(tweets)} tweets</p>\n      <p className={css.CardText}>{convertNumber(followres)} followers</p>\n\n      {following ? (\n        <button\n          onClick={changeFollowingStatus}\n          disabled={isLoading}\n          type=\"button\"\n          className={css.FollowingBtn}\n        >\n          {isLoading ? <>Changing status...</> : <>Following</>}\n        </button>\n      ) : (\n        <button\n          onClick={changeFollowingStatus}\n          disabled={isLoading}\n          className={css.FollowBtn}\n          type=\"button\"\n        >\n          {isLoading ? <>Changing status...</> : <>Follow</>}\n        </button>\n      )}\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"UsersList\":\"UsersList_UsersList__Cpk3t\",\"LoadMoreBtn\":\"UsersList_LoadMoreBtn__BzZGA\"};","import { UserCard } from 'components/UserCard/UserCard';\n\nimport css from './UsersList.module.scss';\n\nexport const UsersList = ({ users }) => {\n  return (\n    <ul className={css.UsersList}>\n      {users &&\n        users.map(({ user, tweets, followres, avatar, id, following }) => (\n          <li key={id}>\n            <UserCard\n              user={user}\n              tweets={tweets}\n              followres={followres}\n              avatar={avatar}\n              id={id}\n              following={following}\n            />\n          </li>\n        ))}\n    </ul>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"errorText\":\"ErrorMessage_errorText__HBUoT\"};","import css from './ErrorMessage.module.scss';\n\nexport const ErrorMessage = () => {\n  return (\n    <>\n      <p className={css.errorText}>\n        Oooops, something going wrong, refresh the page\n      </p>\n    </>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"BtnWraper\":\"Tweets_BtnWraper__F8ei1\",\"PaginationBtn\":\"Tweets_PaginationBtn__w3AUC\",\"CurrentPage\":\"Tweets_CurrentPage__bcbr7\",\"TweetsHeader\":\"Tweets_TweetsHeader__uJy5l\",\"BackLink\":\"Tweets_BackLink__VC-EW\",\"select\":\"Tweets_select__noGrM\"};","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport Select from 'react-select';\nimport { UsersList } from '../components/UsersList/UsersList';\nimport { useGetUsersQuery } from 'redux/usersAPI';\nimport { getFilteredUsers } from 'helpers/getFilteredUsers';\nimport { Loader } from 'components/Loaders/Loader';\nimport { ErrorMessage } from 'components/ErrorMessage/ErrorMessage';\nimport css from './Tweets.module.scss';\n\nconst Tweets = () => {\n  const [page, setPage] = useState(1);\n  const [filteredUsers, setFilteredUsers] = useState([]);\n  const [selectedOption, setSelectedOption] = useState({\n    label: 'Show all',\n    value: 'all',\n  });\n  const { data: users, isFetching, isError } = useGetUsersQuery(page);\n  const options = [\n    { value: 'all', label: 'Show all' },\n    { value: 'follow', label: 'Follow' },\n    { value: 'followings', label: 'Followings' },\n  ];\n\n  useEffect(() => {\n    setFilteredUsers(getFilteredUsers(users, selectedOption));\n  }, [selectedOption, users]);\n\n  return (\n    <>\n      {isError ? (\n        <ErrorMessage />\n      ) : (\n        <>\n          <div className={css.TweetsHeader}>\n            <Select\n              className={css.select}\n              defaultValue={selectedOption}\n              onChange={setSelectedOption}\n              options={options}\n            />\n            <Link className={css.BackLink} to=\"/\">\n              Back to Home\n            </Link>\n          </div>\n\n          {isFetching && <Loader />}\n\n          <UsersList users={filteredUsers} />\n\n          <div className={css.BtnWraper}>\n            <button\n              className={css.PaginationBtn}\n              type=\"button\"\n              disabled={page === 1}\n              onClick={() => setPage(page - 1)}\n            >\n              Previous\n            </button>\n            <span className={css.CurrentPage}>{page}</span>\n            <button\n              className={css.PaginationBtn}\n              type=\"button\"\n              disabled={page === 3}\n              onClick={() => setPage(page + 1)}\n            >\n              Next\n            </button>\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Tweets;\n","export const getFilteredUsers = (users, filter) => {\n  switch (filter.value) {\n    case 'followings':\n      return users.filter(user => user.following);\n    case 'follow':\n      return users.filter(user => !user.following);\n    default:\n      return users;\n  }\n};\n"],"names":["convertNumber","number","toString","replace","UserCard","user","tweets","followres","avatar","following","id","useUpdateUserMutation","updateUser","isLoading","isSuccess","isError","changeFollowingStatus","followingStatus","updatedFollowersAmount","useEffect","toast","className","css","src","alt","onClick","disabled","type","UsersList","users","map","ErrorMessage","useState","page","setPage","filteredUsers","setFilteredUsers","label","value","selectedOption","setSelectedOption","useGetUsersQuery","data","isFetching","filter","getFilteredUsers","defaultValue","onChange","options","to","Loader"],"sourceRoot":""}